(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{DxYd:function(o,i,n){"use strict";n.r(i),n.d(i,"AlumnoModule",(function(){return g}));var e=n("ofXK"),t=n("tyNb");const l="http://faceucv.azurewebsites.net";class r{}var c=n("fXoL"),b=n("fQZm"),a=n("3Pt+");function s(o,i){if(1&o){const o=c.Mb();c.Lb(0,"div",28),c.Lb(1,"div",29),c.Jb(2,"img",30),c.Kb(),c.Lb(3,"div",31),c.Lb(4,"div",32),c.Lb(5,"div",33),c.Lb(6,"button",25),c.Sb("click",(function(){c.ac(o);const n=i.$implicit;return c.Ub(2).EliminarImagen(n)})),c.fc(7,"Eliminar"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb()}if(2&o){const o=i.$implicit;c.xb(2),c.Yb("src",o,c.bc)}}function d(o,i){if(1&o){const o=c.Mb();c.Lb(0,"div",23),c.Lb(1,"h4",24),c.fc(2,"Fotos Originales"),c.Kb(),c.Lb(3,"button",25),c.Sb("click",(function(){return c.ac(o),c.Ub().EliminarByAllImagen()})),c.fc(4,"Eliminar Todo"),c.Kb(),c.Lb(5,"div",26),c.ec(6,s,8,1,"div",27),c.Kb(),c.Kb()}if(2&o){const o=c.Ub();c.xb(6),c.Xb("ngForOf",o.FotosOriginales)}}const m=[{path:"",component:(()=>{class o{constructor(o){this.uploadService=o,this.fileToUpload=null,this.myFiles=[],this.deleteAll=!1,this.codigoBuscar="C-000102030",this.FotosOriginales=[]}ngOnInit(){this.Informacion=new r,this.Informacion.nombre="",this.Informacion.apellido="",this.Informacion.codigo="",this.Informacion.images=""}selectFiles(o){this.myFiles=[];for(let i=0;i<o.target.files.length;i++)this.myFiles.push(o.target.files[i]);console.log("myFiles",this.myFiles)}uploadFiles(){const o=new FormData;o.append("codigo",this.codigo),o.append("nombre",this.nombre),o.append("apellido",this.apellido);for(let i=0;i<this.myFiles.length;i++)o.append("images",this.myFiles[i]);console.log("formData",o),this.upload(o)}upload(o){console.log("Archivos",o),this.uploadService.upload(o).subscribe(i=>{console.log("ingreso",o),i.error||(this.onBuscarAlumno(this.codigo),this.Limpiar())},o=>{console.error("Error")})}onBuscarAlumno(o){this.FotosOriginales=[],this.uploadService.GetInformacionAlumno(o).subscribe(o=>{o.error?(alert("ALUMNO NO REGISTRADO"),this.Limpiar(),this.deleteAll=!1):(console.log("cantidad originales",o.data.fotoOrininals.length),o.data.fotoOrininals.length>0?(this.deleteAll=!0,o.data.fotoOrininals.forEach(o=>{this.FotosOriginales.push(""+(l+o.fileFullPath))})):(alert("ALUMNO NO CUENTA CON IMAGENES"),this.deleteAll=!1),this.Informacion=new r,this.Informacion=o.data.alumno,this.codigo=this.Informacion.codigo,this.nombre=this.Informacion.nombre,this.apellido=this.Informacion.apellido)})}EliminarImagen(o){console.log("eliminar",o.replace(""+l,"")),this.uploadService.EliminarByImagen(this.codigoBuscar,o.replace(""+l,""),!1).subscribe(o=>{o.error||this.onBuscarAlumno(this.codigoBuscar)})}EliminarByAllImagen(){this.uploadService.EliminarByImagen(this.codigoBuscar,"/xxx/xxx/xxx.jpg",!0).subscribe(o=>{o.error||this.onBuscarAlumno(this.codigoBuscar)})}Limpiar(){this.Informacion=new r,this.Informacion.nombre="",this.Informacion.apellido="",this.Informacion.codigo="",this.Informacion.images=""}}return o.\u0275fac=function(i){return new(i||o)(c.Ib(b.a))},o.\u0275cmp=c.Cb({type:o,selectors:[["app-alumno"]],decls:49,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-md-4","order-md-1","mb-4"],[1,"card","p-2"],[1,"input-group"],["autocomplete","off","name","codigo","type","text","placeholder","Promo code",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"list-group","mb-3"],[1,"list-group-item","lh-condensed"],["name","nombre","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"list-group-item","justify-content-between","lh-condensed"],["name","apellido","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["name","codigo","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["type","file","id","file","multiple","",3,"change"],[1,"list-group-item","d-flex","justify-content-between"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],["class","col-md-8 order-md-2",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"col-md-8","order-md-2"],[1,"mb-3"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"row","py-3"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4"],[1,"card","shadow-sm"],["width","100%","height","225","alt","",1,"bd-placeholder-img","card-img-top",3,"src"],[1,"card-body",2,"align-items","center"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"]],template:function(o,i){1&o&&(c.Lb(0,"div",0),c.Lb(1,"h2"),c.fc(2,"Mantenimiento Alumno"),c.Kb(),c.Lb(3,"div",1),c.Lb(4,"div",2),c.Lb(5,"form",3),c.Lb(6,"div",4),c.Lb(7,"input",5),c.Sb("ngModelChange",(function(o){return i.codigoBuscar=o})),c.Kb(),c.Lb(8,"div",6),c.Lb(9,"button",7),c.Sb("click",(function(){return i.onBuscarAlumno(i.codigoBuscar)})),c.fc(10,"Buscar"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Lb(11,"ul",8),c.Lb(12,"li",9),c.Lb(13,"div"),c.Lb(14,"h6"),c.fc(15,"Nombre"),c.Kb(),c.Lb(16,"input",10),c.Sb("ngModelChange",(function(o){return i.nombre=o})),c.Kb(),c.Kb(),c.Kb(),c.Lb(17,"li",11),c.Lb(18,"div"),c.Lb(19,"h6"),c.fc(20,"Apellido"),c.Kb(),c.Lb(21,"input",12),c.Sb("ngModelChange",(function(o){return i.apellido=o})),c.Kb(),c.Kb(),c.Kb(),c.Lb(22,"li",11),c.Lb(23,"div"),c.Lb(24,"h6"),c.fc(25,"Codigo"),c.Kb(),c.Lb(26,"input",13),c.Sb("ngModelChange",(function(o){return i.codigo=o})),c.Kb(),c.Kb(),c.Kb(),c.Lb(27,"li",11),c.Lb(28,"div"),c.Lb(29,"h6"),c.fc(30,"Imagenes"),c.Kb(),c.Lb(31,"input",14),c.Sb("change",(function(o){return i.selectFiles(o)})),c.Kb(),c.Kb(),c.Kb(),c.Lb(32,"li",15),c.Lb(33,"button",16),c.Sb("click",(function(){return i.uploadFiles()})),c.fc(34,"Guardar"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.ec(35,d,7,1,"div",17),c.Kb(),c.Lb(36,"footer",18),c.Lb(37,"p",19),c.fc(38,"\xa9 2017-2020 Company Name"),c.Kb(),c.Lb(39,"ul",20),c.Lb(40,"li",21),c.Lb(41,"a",22),c.fc(42,"Privacy"),c.Kb(),c.Kb(),c.Lb(43,"li",21),c.Lb(44,"a",22),c.fc(45,"Terms"),c.Kb(),c.Kb(),c.Lb(46,"li",21),c.Lb(47,"a",22),c.fc(48,"Support"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb()),2&o&&(c.xb(7),c.Xb("ngModel",i.codigoBuscar),c.xb(9),c.Xb("value",i.Informacion.nombre)("ngModel",i.nombre),c.xb(5),c.Xb("value",i.Informacion.apellido)("ngModel",i.apellido),c.xb(5),c.Xb("value",i.Informacion.codigo)("ngModel",i.codigo),c.xb(9),c.Xb("ngIf",i.deleteAll))},directives:[a.h,a.d,a.e,a.a,a.c,a.f,e.j,e.i],styles:[".card-body[_ngcontent-%COMP%]{padding:0}"]}),o})()}];let u=(()=>{class o{}return o.\u0275mod=c.Gb({type:o}),o.\u0275inj=c.Fb({factory:function(i){return new(i||o)},imports:[[t.b.forChild(m)],t.b]}),o})(),g=(()=>{class o{}return o.\u0275mod=c.Gb({type:o}),o.\u0275inj=c.Fb({factory:function(i){return new(i||o)},imports:[[e.b,u,a.b]]}),o})()}}]);